---
date: 2019-05-20
title: "AtCoder ABC 126 F"
slug: "2019-05-20"
emoji: ğŸ
template: "post"
category: "ç«¶ãƒ—ãƒ­"
tags:
  - AtCoder
---

å•é¡Œ <https://atcoder.jp/contests/abc126/tasks>

# F - XOR Matching

## å•é¡Œ

ä»¥ä¸‹ã‚’æº€ãŸã™é•·ã•$2^{M+1}$ã®æ•°åˆ—$a$ã‚’æ§‹ç¯‰ã›ã‚ˆã€‚

* $a$ã¯$0$ä»¥ä¸Š$2^M$æœªæº€ã®æ•´æ•°ã‚’ãã‚Œãã‚Œã¡ã‚‡ã†ã©2ã¤ãšã¤å«ã‚€ã€‚
* ä»»æ„ã®$a_i=a_j$ã‚’æº€ãŸã™$i, j$ã«ã¤ã„ã¦ã€ãã®ç¯„å›²ã®è¦ç´ ã®ç·XORãŒ$K$ã§ã‚ã‚‹ã€‚

## è§£æ³•

$M\neq 1$ã®ã¨ãã€$2^M$ã¾ã§ã®ç·XORãŒ0ã¨ãªã‚‹ã®ã§ã€$K<2^M$ã§ã‚ã‚Œã°ã€

```text
0 1 ... K-1 K+1 ... 2^M-1 K 2^M-1 ... K+1 K-1 ... 1 0 K
```

ã¨ã—ã¦æ§‹ç¯‰ã§ãã‚‹ã€‚

$M=3, K=4$ã®ä¾‹

```text
0 1 2 3 5 6 7 4 7 6 5 3 2 1 0 4
```

$K\ge 2^M$ã ã¨æ§‹ç¯‰ã§ããšã€$M=1$ã ã‘ã‚³ãƒ¼ãƒŠãƒ¼ã‚±ãƒ¼ã‚¹ã€‚

é‡è¦ï¼š$2^M$æœªæº€ã®ç·XORã¯0

```python
m, k = list(map(int, input().split()))

if m==1:
  if k==0:
    print("0 0 1 1")
  else:
    print(-1)
  exit()

if k>=2**m:
  print(-1)
  exit()

ans = []
for i in range(2**m):
  if i==k:
    continue
  ans.append(i)
ans.append(k)
for i in range(2**m-1, -1, -1):
  if i==k:
    continue
  ans.append(i)
ans.append(k)
print(*ans)
```
